<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             xmlns:local="using:BillInsight.Controls"
             xmlns:model="using:BillInsight.Models.InvoiceDetails"
             x:Class="BillInsight.Controls.InvoiceDetailsItem">
    <Border>
        <ItemsControl ItemsSource="{Binding Products, RelativeSource={RelativeSource AncestorType=local:InvoiceDetailsItem}}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Vertical" Spacing="6" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate x:DataType="model:InvoiceItem">
                    <Border Background="#FFFFFF"
                            CornerRadius="6"
                            Padding="8"
                            BorderBrush="#DDD"
                            BorderThickness="1">
                        <!-- Chia 3 cột đều nhau -->
                        <Grid ColumnDefinitions="1*,1*,1*" ColumnSpacing="8" VerticalAlignment="Center">
                            
                            <!-- Tên sản phẩm -->
                            <TextBlock Text="{Binding ItemName}"
                                       Foreground="#222"
                                       FontSize="14"
                                       FontWeight="Medium"
                                       VerticalAlignment="Center"
                                       TextTrimming="CharacterEllipsis" />

                            <!-- Tiền mặt -->
                            <TextBlock Text="{Binding Cash, StringFormat='{}{0:C}'}"
                                       Grid.Column="1"
                                       Foreground="#555"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center" />

                            <!-- Ngân hàng -->
                            <TextBlock Text="{Binding Bank}"
                                       Grid.Column="2"
                                       Foreground="#555"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       HorizontalAlignment="Right"
                                       VerticalAlignment="Center"
                                       TextTrimming="CharacterEllipsis" />
                        </Grid>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Border>

</UserControl>